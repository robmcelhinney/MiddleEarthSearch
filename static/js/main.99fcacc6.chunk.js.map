{"version":3,"sources":["components/Search.js","components/App.js","components/NotFound.js","index.js"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","query","chapters","count","currCount","handleChange","bind","assertThisInitialized","handleSubmit","resetState","history","listen","location","values","queryString","search","setState","q","reset_and_search","event","target","value","preventDefault","edit_url","query_json","console","log","undefined","edit_title","react_default","a","createElement","id","className","onSubmit","type","onChange","placeholder","map","item","Card_default","key","CardContent_default","paragraph","loadMore","href","replace","trim","results","MiddleEarthObj","JSON","parse","stringify","MiddleEarth","maxCount","book","section","para","RegExp","test","boldText","Number","length","push","result","_this2","onClick","e","handleLoadMore","strSubject","words","basic_words","split","s","pattern","preg_quote","str","delimiter","keyword_array","replaced","join","$m","indexOf","window","pushState","document","title","constants","otherParagraphs","dangerouslySetInnerHTML","__html","side","React","Component","App","components_Search","NotFound","render","react_router_dom","basename","react_router","path","component","querySelector"],"mappings":"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","file":"static/js/main.99fcacc6.chunk.js","sourcesContent":["import React from 'react';\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport MiddleEarth from \"./../MiddleEarth.json\"\r\nimport * as constants from \"../constants\";\r\nimport * as queryString from \"query-string\";\r\n\r\nlet MAXCARDS = 10;\r\n\r\nclass Search extends React.Component {\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tquery: this.props.query || \"\",\r\n\t\t\tchapters: [],\r\n\t\t\tcount: null,\r\n\t\t\tcurrCount: 1,\r\n\t\t};\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.resetState = this.resetState.bind(this);\r\n\r\n\t\tthis.props.history.listen((location) => {\r\n\t\t\tlet values = queryString.parse(location.search);\r\n\t\t\tthis.setState({query: values.q});\r\n\t\t\tthis.reset_and_search();\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({query: event.target.value});\r\n\t}\r\n\r\n\thandleSubmit(event) {\r\n\t\tthis.reset_and_search();\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\treset_and_search() {\r\n\t\tthis.resetState();\r\n\t\tif (this.state.query !== \"\") {\r\n\t\t\tthis.edit_url();\r\n\t\t\tthis.query_json();\r\n\t\t}\r\n\t}\r\n\r\n\tresetState() {\r\n\t\tthis.state.chapters = [];\r\n\t\tthis.state.count = 0;\r\n\t\tthis.state.currCount = 1;\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(\"mounted search: \", this.props.query);\r\n\t\tif (this.props.query !== undefined) {\r\n\t\t\t// console.log(\"query not null in search\");\r\n\t\t\tthis.setState({query: this.props.query});\r\n\t\t\tthis.query_json();\r\n\t\t\tthis.edit_title();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n        return (\r\n        \t<div id={\"search\"}>\r\n\t\t\t\t<div id=\"search_container\">\r\n\t\t\t\t\t<section id=\"section\">\r\n\t\t\t\t\t\t<section className=\"query\">Search Middle Earth</section>\r\n\t\t\t\t\t\t<form id=\"form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t<input type=\"text\" value={this.state.query}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"type query here\" id=\"searchtext\"/>\r\n\t\t\t\t\t\t\t<input type=\"submit\" value='Search' id=\"searchbox\" />\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"content\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t{this.count()}\r\n\t\t\t\t\t\t{this.state.chapters.map(item => (\r\n\t\t\t\t\t\t\t<Card className={'card'} key={item['paragraph']}>\r\n\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t<div className={\"book_chap\"}>\r\n\t\t\t\t\t\t\t\t\t\t{item['chapter_name']} - {item['book_name']}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{Search.paragraph(item)}\r\n\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{this.loadMore()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id={\"footer\"}><a href={\"https://twitter.com/RMcElhinney\"}>Rob McElhinney</a></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        );\r\n\t}\r\n\r\n    query_json() {\r\n\t\t// Gandalf the Grey\r\n\t\t// fly you fools\r\n\t\t// even as it fell it swung it's\r\n\t\t//saruman the white\r\n\t\t// This tale grew in the telling\r\n\t\t//tom bombadil\r\n\t\tlet query = this.state.query.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_~()/\"/']/g, \"\");\r\n\t\tquery = query.trim();\r\n\t\tconsole.log(\"query: \", query);\r\n\t\tlet results = this.state.chapters;\r\n\t\tlet MiddleEarthObj = JSON.parse(JSON.stringify(MiddleEarth));\r\n\t\tlet count = 0;\r\n\t\tlet currCount = this.state.currCount;\r\n\t\tlet maxCount = currCount + MAXCARDS;\r\n\r\n\t\tfor(let book in MiddleEarth) {\r\n\t\t\tfor(let section in MiddleEarthObj[book]) {\r\n\t\t\t\tlet para = MiddleEarthObj[book][section]['paragraph'].replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()/\"/']/g,\"\");\r\n\t\t\t\tif(new RegExp(query, 'gi').test(para)\r\n\t\t\t\t\t\t&& !new RegExp(query).test(\"<b>\")) {\r\n\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tif (currCount === maxCount || count < currCount) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurrCount++;\r\n\r\n\r\n\t\t\t\t\tMiddleEarthObj[book][section]['paragraph'] =\r\n\t\t\t\t\t\tthis.boldText(MiddleEarthObj[book][section]['paragraph'], query);\r\n\r\n\t\t\t\t\tif(Number(section) > 0 &&\r\n\t\t\t\t\t\t\tMiddleEarthObj[book][section]['chapter_num']\r\n\t\t\t\t\t\t\t=== MiddleEarthObj[book][Number(section) - 1][\r\n\t\t\t\t\t\t\t'chapter_num']) {\r\n\t\t\t\t\t\tMiddleEarthObj[book][section]['paragraphPrev'] =\r\n\t\t\t\t\t\t\t\tMiddleEarthObj[book][Number(section) - 1][\r\n\t\t\t\t\t\t\t\t'paragraph'].replace(/(<b>|<\\/b>)/g,\"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(Number(section) + 1 < MiddleEarthObj[book].length &&\r\n\t\t\t\t\t\t\tMiddleEarthObj[book][section]['chapter_num']\r\n\t\t\t\t\t\t\t=== MiddleEarthObj[book][Number(section) + 1][\r\n\t\t\t\t\t\t\t'chapter_num']) {\r\n\t\t\t\t\t\tMiddleEarthObj[book][section]['paragraphNext'] =\r\n\t\t\t\t\t\t\t\tMiddleEarthObj[book][Number(section) + 1][\r\n\t\t\t\t\t\t\t\t'paragraph']\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresults.push(MiddleEarthObj[book][section]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({count: count});\r\n\t\tthis.setState({currCount: currCount});\r\n\t\tthis.setState({chapters: results});\r\n\t}\r\n\r\n\tcount() {\r\n\t\tif(this.state.count !== null && this.state.query !== \"\") {\r\n\t\t\tlet result = \"result\";\r\n\t\t\tif(this.state.count > 1) {\r\n\t\t\t\tresult += \"s\";\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Card  className={\"card results_found\"} key=\"count\">\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<section>{this.state.count} {result} found.</section>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tloadMore() {\r\n\t\tconsole.log(\"this.state.count: \", this.state.count);\r\n\t\tconsole.log(\"this.state.currCount: \", this.state.currCount);\r\n\t\tif(this.state.count !== null && this.state.count >= this.state.currCount) {\r\n\t\t\treturn (\r\n\t\t\t\t<Card className={\"card load_more clickable\"} key=\"loadMore\"\r\n\t\t\t\t\t\tonClick={e => this.handleLoadMore(e)}>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<section>Load More</section>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\thandleLoadMore(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.query_json();\r\n\t}\r\n\r\n\tstatic paragraph(item) {\r\n\t\treturn (\r\n\t\t\t<div className={\"paragraphs\"}>\r\n\t\t\t\t{this.otherParagraphs(item['paragraphPrev'], \"prev\")}\r\n\t\t\t\t<div className={\"results curr\"} dangerouslySetInnerHTML={{__html: item['paragraph']}}/>\r\n\t\t\t\t{this.otherParagraphs(item['paragraphNext'], \"next\")}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tstatic otherParagraphs(para, side) {\r\n\t\tif (para) {\r\n\t\t\tif (side === \"prev\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={\"results prev\"}>{para}</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={\"results next\"}>{para}</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tboldText(strSubject, query)\r\n\t{\r\n\t\t// I am very fond indeed of\r\n\t\tquery = this.basic_words(query);\r\n\t\tlet words = query.split(\" \");\r\n\t\tfor (let s = 0; s < words.length; s += 1)\r\n\t\t{\r\n\t\t\tlet pattern = new RegExp('\\\\b' + this.preg_quote(words[s], \"/\") + '\\\\b','gi');\r\n\t\t\t// console.log(\"pattern: \", pattern);\r\n\t\t\tstrSubject = strSubject.replace(pattern, \"<b>$&</b>\",\"\\n\");\r\n\t\t}\r\n\t\treturn strSubject;\r\n\t}\r\n\r\n\tpreg_quote(str, delimiter){\r\n\t\treturn (str + '').replace(\r\n\t\t\t\tnew RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\' +\r\n\t\t\t\t(delimiter || '') + '-]', 'g'), '\\\\$&');\r\n\t}\r\n\r\n\tbasic_words(query) {\r\n\t\tlet keyword_array = ['a','about','an','are','as','at','be', 'by','com','for','from','how','i','in','is','it','la','of','on','or', 'that','the','this','to','was','what','when','where', 'who','will','with'];\r\n\t\tquery = query.replace('/\\b(' + keyword_array.join('|') + ')\\b/i', '');\r\n\r\n\t\tlet replaced = query.replace(/\\b\\w+\\b/g, function ($m) {\r\n\t\t\tlet key = keyword_array.indexOf($m);\r\n\t\t\treturn (key !== -1)? '' : $m;\r\n\t\t});\r\n\t\treplaced = replaced.replace(/\\s+/g,' ');\r\n\t\t// console.log(\"replaced: \", replaced);\r\n\t\treplaced = replaced.trim();\r\n\t\treturn replaced\r\n\t}\r\n\r\n\tedit_url() {\r\n\t\twindow.history.pushState({}, document.title, \"/MiddleEarthSearch/#/?q=\" + this.state.query);\r\n\t\tthis.edit_title();\r\n\t}\r\n\r\n\tedit_title() {\r\n\t\tdocument.title = constants.title + ' - ' + this.state.query;\r\n\t}\r\n}\r\n\r\nexport default Search;\r\n","import React from 'react';\nimport Search from './Search';\nimport * as queryString from \"query-string\";\n\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            query: '',\n        };\n    }\n\n    componentWillMount() {\n        let values = queryString.parse(this.props.location.search);\n        this.setState({query: values.q});\n    }\n\n    render() {\n        return (\n            <div id={\"app\"}>\n                <Search query={this.state.query} history={this.props.history}/>\n            </div>\n        );\n\t}\n}\n\nexport default App;\n","import React from 'react';\r\n\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <h2>Not Found</h2>\r\n    )\r\n}\r\n\r\n\r\nexport default NotFound;\r\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport './css/style.css';\nimport App from './components/App';\nimport NotFound from './components/NotFound';\n\nconst Root = () => {\n    return(\n        <Router basename='/'>\n            <Switch>\n                <Route path='/' component={App} />\n                {/*<Route path={'/q'} component={App} />*/}\n                <Route component={NotFound} />\n            </Switch>\n        </Router>\n    )\n};\n\nrender(<Root/>, document.querySelector('#root'));\n"],"sourceRoot":""}