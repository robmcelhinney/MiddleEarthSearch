{"version":3,"sources":["constants.js","components/Content.js","components/Search.js","Theme.js","components/App.js","components/NotFound.js","index.js"],"names":["title","Content","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","count","result","react_default","a","createElement","Card_default","className","key","style","color","onClick","e","handlePerBookCount","CardContent_default","resultsPerBook","perBookInfo","state","_this$props","perBookCount","Fragment","keys","map","loadMore","currCount","handleLoadMore","setState","event","preventDefault","query_json","paragraph","item","otherParagraphs","dangerouslySetInnerHTML","__html","para","side","_this2","chapters","id","href","React","Component","MAXCARDS","Search","reset_and_search","resetState","query","edit_url","handleChangeBooks","checked","target","books","includes","name","joined","concat","array","toConsumableArray","index","indexOf","splice","freshSearch","arguments","length","undefined","replace","trim","MiddleEarthObj","JSON","parse","stringify","MiddleEarth","results","maxCount","book","countPerBook","section","RegExp","test","boldText","Number","push","myRef","current","scrollIntoView","behavior","block","strSubject","words","basic_words","split","s","pattern","preg_quote","str","delimiter","keyword_array","replaced","join","$m","book_param","window","history","pushState","document","edit_title","constants","createRef","listen","location","search","params","URLSearchParams","q","get","getAll","classes","_this$state","lib_default","onChange","onRequestSearch","margin","maxWidth","value","FormControl_default","component","FormGroup_default","aria-label","row","FormControlLabel_default","control","Checkbox_default","defaultChecked","label","Typography_default","labelPlacement","ref","components_Content","withStyles","theme","createMuiTheme","palette","primary","main","secondary","typography","useNextVariants","App","core_styles","components_Search","NotFound","render","react_router_dom","basename","react_router","path","querySelector"],"mappings":"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","file":"static/js/main.e223edb5.chunk.js","sourcesContent":["export const title = \"Search Middle Earth\";","import React from 'react';\r\nimport Card from \"@material-ui/core/Card\";\r\nimport PropTypes from 'prop-types';\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nclass Content extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            perBookInfo: false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const { chapters } = this.props;\r\n        return (\r\n            <Card id=\"content\">\r\n                <div id=\"cards\">\r\n                    {this.count()}\r\n                    {chapters.map(item => (\r\n                        <Card\r\n                            className={'card'}\r\n                            key={item['paragraph']}>\r\n                            <CardContent>\r\n                                <div className={\"book_chap\"}\r\n                                     style={{color: 'black'}}>\r\n                                    {item['chapter_name']} - {item['book_name']}\r\n                                </div>\r\n                                {this.paragraph(item)}\r\n                            </CardContent>\r\n                        </Card>\r\n                    ))}\r\n                    {this.loadMore()}\r\n                </div>\r\n                <div id={\"footer\"}\r\n                     style={{color: 'black'}}><a href={\"https://mertun.artstation.com/projects/Gk16N\"}>Shall Not Pass</a> - ömer tunç | Created by <a href={\"https://twitter.com/RMcElhinney\"}>Rob McElhinney</a></div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    // noinspection UnterminatedStatementJS\r\n    count = () => {\r\n        const {count} = this.props;\r\n        if(count !== null) {\r\n            let result = \"result\";\r\n            if(count > 1) {\r\n                result += \"s\";\r\n            }\r\n            return (\r\n                <Card className={\"card results_found clickable\"} key=\"count\"\r\n                      style={{color: 'black'}}\r\n                      onClick={e => this.handlePerBookCount(e)}>\r\n                    <CardContent>\r\n                        <section\r\n                            style={{color: 'black'}}>{count} {result} found.</section>\r\n                        <section\r\n                            style={{color: 'black'}}>Click to search results by book.</section>\r\n                        {this.resultsPerBook()}\r\n                    </CardContent>\r\n                </Card>\r\n            );\r\n        }\r\n    }\r\n\r\n    resultsPerBook = () => {\r\n        const {perBookInfo} = this.state;\r\n        const {perBookCount, count} = this.props;\r\n        if (perBookInfo && count !== 0) {\r\n            return (\r\n                <>\r\n                    {\r\n                        Object.keys(perBookCount).map((key) => (\r\n                            <section key={key}>{key}: {perBookCount[key]}</section>\r\n                        ))\r\n                    }\r\n                </>\r\n            )\r\n\r\n        }\r\n    }\r\n\r\n    loadMore = () => {\r\n        if(this.props.count !== null && this.props.count >= this.props.currCount) {\r\n            return (\r\n                <Card className={\"card load_more clickable\"} key=\"loadMore\"\r\n                      onClick={e => this.handleLoadMore(e)}>\r\n                    <CardContent>\r\n                        <section\r\n                            style={{color: 'black'}}>Load More</section>\r\n                    </CardContent>\r\n                </Card>\r\n            );\r\n        }\r\n    }\r\n\r\n    handlePerBookCount = () => {\r\n        this.setState({perBookInfo: !this.state.perBookInfo});\r\n    }\r\n\r\n    handleLoadMore = (event) => {\r\n        event.preventDefault();\r\n        this.props.query_json(false);\r\n    }\r\n\r\n    paragraph = (item) => {\r\n        return (\r\n            <div className={\"paragraphs\"}\r\n                 style={{color: 'black'}}>\r\n                {this.otherParagraphs(item['paragraphPrev'], \"prev\")}\r\n                <div className={\"results curr\"} dangerouslySetInnerHTML={{__html: item['paragraph']}}/>\r\n                {this.otherParagraphs(item['paragraphNext'], \"next\")}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    otherParagraphs = (para, side) => {\r\n        if (para) {\r\n            if (side === \"prev\") {\r\n                return (\r\n                    <div className={\"results prev\"}>{para}</div>\r\n                )\r\n            }\r\n            else {\r\n                return (\r\n                    <div className={\"results next\"}>{para}</div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nContent.propTypes = {\r\n    query_json: PropTypes.func.isRequired,\r\n    chapters: PropTypes.any.isRequired,\r\n    currCount: PropTypes.number.isRequired,\r\n    count: PropTypes.number.isRequired,\r\n    perBookCount: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default Content;\r\n","import React, {createRef} from 'react';\r\nimport Card from \"@material-ui/core/Card\";\r\nimport MiddleEarth from \"./../MiddleEarth.json\"\r\nimport * as constants from \"../constants\";\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport SearchBar from 'material-ui-search-bar';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/styles';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Content from \"./Content\";\r\n\r\nlet MAXCARDS = 10;\r\n\r\nconst styles = () => ({\r\n\tlabel: {\r\n\t\tcolor: 'white',\r\n\t},\r\n});\r\n\r\n// Gandalf the Grey\r\n// fly you fools\r\n// even as it fell it swung it's\r\n//saruman the white\r\n// This tale grew in the telling\r\n//tom bombadil\r\n\r\nclass Search extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tquery: this.props.query,\r\n\t\t\tchapters: [],\r\n\t\t\tcount: 0,\r\n\t\t\tperBookCount: {},\r\n\t\t\tcurrCount: 1,\r\n            books: this.props.books,\r\n\t\t};\r\n\t\tthis.myRef = createRef();\r\n\r\n\t\tthis.props.history.listen((location) => {\r\n            const search = location.search;\r\n            const params = new URLSearchParams(search);\r\n            const q = params.get('q');\r\n            const books = params.getAll('books[]');\r\n\t\t\tthis.setState({\r\n\t\t\t\tquery: q,\r\n\t\t\t\tbooks: books\r\n\t\t\t});\r\n\t\t\tthis.reset_and_search();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.query && this.props.query !== undefined) {\r\n\t\t\t// console.log(\"query not null in search\");\r\n\t\t\tthis.setState({query: this.props.query});\r\n\t\t\tthis.query_json();\r\n\t\t\tthis.edit_title();\r\n\t\t}\r\n\t}\r\n\r\n\treset_and_search = () => {\r\n\t\t//TODO ignore reset state from history.listen\r\n\t\tthis.resetState();\r\n\t\tif (this.state.query) {\r\n            this.query_json();\r\n            this.edit_url();\r\n        }\r\n\t}\r\n\r\n\tresetState = () => {\r\n\t\tthis.setState({\r\n\t\t\tchapters: [],\r\n\t\t\tcount: 0,\r\n\t\t\tcurrCount: 1,\r\n\t\t\tperBookCount: {}\r\n\t\t});\r\n\t}\r\n\r\n    handleChangeBooks = (event) => {\r\n        const checked = event.target.checked;\r\n        if (checked && !this.state.books.includes(event.target.name)) {\r\n            // add book to state\r\n            let joined = this.state.books.concat(event.target.name);\r\n            // console.log(\"add book. joined: \", joined);\r\n            this.setState({books: joined})\r\n            // this.state.bookcs = joined;\r\n        }\r\n        else if (!checked && this.state.books.includes(event.target.name)){\r\n            // remove book from state\r\n            let array = [...this.state.books];\r\n            const index = this.state.books.indexOf(event.target.name);\r\n            array.splice(index, 1);\r\n            // console.log(\"removed [index]: \", this.state.books[index]);\r\n            // console.log(\"removed: \", array)\r\n            this.setState({books: array})\r\n        }\r\n        // console.log(\"checked books \", this.state.books);\r\n    }\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { books, chapters } = this.state;\r\n        return (\r\n        \t<>\r\n        \t<div id={\"search\"}>\r\n\t\t\t\t<Card id=\"search_container_default\">\r\n\t\t\t\t\t<section id=\"section\">\r\n\t\t\t\t\t\t<section className=\"query\">Search Middle Earth</section>\r\n\t\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\t\tonChange={(e) => this.setState({query: e})}\r\n\t\t\t\t\t\t\tonRequestSearch={() => this.reset_and_search()}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmargin: '0 auto',\r\n\t\t\t\t\t\t\t\tmaxWidth: 800\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={this.state.query || \"\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormGroup aria-label=\"position\" name=\"position\" row>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"TFOTR\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"TFOTR\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Fellowship of the Ring\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"TFOTR\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"TFOTR\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"TTT\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"TTT\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Twin Towers\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"TTT\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"TTT\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"ROTK\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"ROTK\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Return of the King\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"ROTK\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"ROTK\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t{/*<FormGroup aria-label=\"position\" name=\"position\" row>*/}\r\n\t\t\t\t\t\t\t\t\t{/*<FormControlLabel*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*value=\"TABA\"*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*control={<Checkbox style={{color: 'white'}} />}*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*label={*/}\r\n\t\t\t\t\t\t\t\t\t\t\t{/*<Typography*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*style={{color: 'white'}}>*/}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/*The Hobbit*/}\r\n\t\t\t\t\t\t\t\t\t\t\t{/*</Typography>}*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*labelPlacement=\"end\"*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*name=\"TABA\"*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*defaultChecked={books.includes(\"TABA\")}*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*onChange={this.handleChangeBooks}*/}\r\n\t\t\t\t\t\t\t\t\t\t{/*className={classes.label}*/}\r\n\t\t\t\t\t\t\t\t\t{/*/>*/}\r\n\t\t\t\t\t\t\t\t{/*</FormGroup>*/}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t\t<div ref={this.myRef}>\r\n\t\t\t\t<Content\r\n\t\t\t\t\tquery_json={this.query_json}\r\n\t\t\t\t\tchapters={chapters}\r\n\t\t\t\t\tcurrCount={this.state.currCount}\r\n\t\t\t\t\tcount={this.state.count}\r\n\t\t\t\t\tperBookCount={this.state.perBookCount}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t</>\r\n        );\r\n\t}\r\n\r\n    query_json = (freshSearch=true) => {\r\n        // console.log(\"querying json\");\r\n\t\tlet query = this.state.query.replace(/[.,/#!$%^&*;:{}=\\-_~()/\"/']/g, \"\");\r\n\t\tquery = query.trim();\r\n\t\tif (query == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst MiddleEarthObj = JSON.parse(JSON.stringify(MiddleEarth));\r\n\t    let count = 0;\r\n\t    let results = [];\r\n\t    let currCount = 1;\r\n\t    if (!freshSearch) {\r\n\t\t    results = this.state.chapters;\r\n\t\t    currCount = this.state.currCount;\r\n\t    }\r\n\t\tlet maxCount = currCount + MAXCARDS;\r\n\t    let perBookCount = {};\r\n\r\n\t\tfor(let book in MiddleEarth) {\r\n\t\t\tlet countPerBook = 0;\r\n            if (this.state.books.length === 0 || this.state.books.includes(book)) {\r\n                for (let section in MiddleEarthObj[book]) {\r\n                    let para = MiddleEarthObj[book][section]['paragraph'].replace(/[.,/#!$%^&*;:{}=\\-_`~()/\"/']/g, \"\");\r\n                    if (new RegExp(query, 'gi').test(para)\r\n                        && !new RegExp(query).test(\"<b>\")) {\r\n\t\t\t\t\t\tcountPerBook++;\r\n                        count++;\r\n                        if (currCount === maxCount || count < currCount) {\r\n                            continue;\r\n                        }\r\n                        currCount++;\r\n                        MiddleEarthObj[book][section]['paragraph'] =\r\n                            this.boldText(MiddleEarthObj[book][section]['paragraph'], query);\r\n\r\n                        if (Number(section) > 0 &&\r\n                            MiddleEarthObj[book][section]['chapter_num']\r\n                            === MiddleEarthObj[book][Number(section) - 1][\r\n                                'chapter_num']) {\r\n                            MiddleEarthObj[book][section]['paragraphPrev'] =\r\n                                MiddleEarthObj[book][Number(section) - 1][\r\n                                    'paragraph'].replace(/(<b>|<\\/b>)/g, \"\");\r\n                        }\r\n                        if (Number(section) + 1 < MiddleEarthObj[book].length &&\r\n                            MiddleEarthObj[book][section]['chapter_num']\r\n                            === MiddleEarthObj[book][Number(section) + 1][\r\n                                'chapter_num']) {\r\n                            MiddleEarthObj[book][section]['paragraphNext'] =\r\n                                MiddleEarthObj[book][Number(section) + 1][\r\n                                    'paragraph']\r\n                        }\r\n                        results.push(MiddleEarthObj[book][section]);\r\n                    }\r\n                }\r\n\t\t\t\tperBookCount[book] = countPerBook;\r\n            }\r\n\t\t}\r\n\r\n\t\tif (freshSearch) {\r\n\t\t\tthis.myRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tcount: count,\r\n\t\t\tcurrCount: currCount,\r\n\t\t\tchapters: results,\r\n\t\t\tperBookCount: perBookCount,\r\n\t\t});\r\n\t}\r\n\r\n\tboldText = (strSubject, query) => {\r\n\t\t// I am very fond indeed of\r\n\t\tquery = this.basic_words(query);\r\n\t\tlet words = query.split(\" \");\r\n\t\tfor (let s = 0; s < words.length; s += 1)\r\n\t\t{\r\n\t\t\tlet pattern = new RegExp('\\\\b' + this.preg_quote(words[s], \"/\") + '\\\\b','gi');\r\n\t\t\t// console.log(\"pattern: \", pattern);\r\n\t\t\tstrSubject = strSubject.replace(pattern, \"<b>$&</b>\",\"\\n\");\r\n\t\t}\r\n\t\treturn strSubject;\r\n\t}\r\n\r\n\tpreg_quote = (str, delimiter) => {\r\n\t\treturn (str + '').replace(\r\n\t\t\t\tnew RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\' +\r\n\t\t\t\t(delimiter || '') + '-]', 'g'), '\\\\$&');\r\n\t}\r\n\r\n\tbasic_words = (query) => {\r\n\t\tlet keyword_array = ['a','about','an','are','as','at','be', 'by','com','for','from','how','i','in','is','it','la','of','on','or', 'that','the','this','to','was','what','when','where', 'who','will','with'];\r\n\t\tquery = query.replace('/\\b(' + keyword_array.join('|') + ')\\b/i', '');\r\n\t\tlet replaced = query.replace(/\\b\\w+\\b/g, function ($m) {\r\n\t\t\tlet key = keyword_array.indexOf($m);\r\n\t\t\treturn (key !== -1)? '' : $m;\r\n\t\t});\r\n\t\treplaced = replaced.replace(/\\s+/g,' ');\r\n\t\treplaced = replaced.trim();\r\n\t\treturn replaced\r\n\t}\r\n\r\n\tedit_url = () => {\r\n\t    let book_param = \"\";\r\n\t    if (this.state.books && this.state.books.length > 0) {\r\n\t        book_param = this.state.books.map(a => \"&books[]=\" + a).join('');\r\n            // console.log(\"book param: \", book_param);\r\n            // console.log(\"book_param: \", book_param);\r\n        }\r\n\t\twindow.history.pushState({}, document.title, \"/MiddleEarthSearch/#/?q=\" + this.state.query + book_param);\r\n\t\tthis.edit_title();\r\n\t}\r\n\r\n\tedit_title = () => {\r\n\t\tdocument.title = constants.title + ' - ' + this.state.query;\r\n\t}\r\n}\r\n\r\nSearch.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\n// export default Search;\r\nexport default withStyles(styles)(Search);\r\n","import {createMuiTheme} from '@material-ui/core/styles';\r\n\r\n// use default theme\r\n// const theme = createMuiTheme();\r\n\r\n// Or Create your Own theme:\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#b1a11d'\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#fff'\r\n\t\t},\r\n\t},\r\n\ttypography: {\r\n\t\tuseNextVariants: true,\r\n\t},\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport Search from './Search';\r\nimport theme from '../Theme';\r\nimport {MuiThemeProvider} from '@material-ui/core/styles';\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const search = this.props.location.search;\r\n        const params = new URLSearchParams(search);\r\n        const books = params.getAll('books[]');\r\n        const query = params.get('q');\r\n\r\n        this.state = {\r\n            query: query,\r\n            books: books,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\t        <MuiThemeProvider theme={theme}>\r\n                <div id={\"app\"}>\r\n                    <Search query={this.state.query} books={this.state.books}\r\n                            history={this.props.history}/>\r\n                </div>\r\n\t        </MuiThemeProvider>\r\n        );\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <h2>Not Found</h2>\r\n    )\r\n}\r\n\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport {render} from 'react-dom';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nimport './css/style.css';\r\nimport App from './components/App';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst Root = () => {\r\n    return(\r\n        <Router basename='/'>\r\n            <Switch>\r\n                <Route path='/' component={App} />\r\n                <Route component={NotFound} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n};\r\n\r\nrender(<Root/>, document.querySelector('#root'));\r\n"],"sourceRoot":""}