{"version":3,"sources":["constants.js","components/Content.js","components/Search.js","Theme.js","components/App.js","components/NotFound.js","index.js"],"names":["title","Content","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","clickContent","id","clicked","state","window","getSelection","type","includes","array","toConsumableArray","index","indexOf","splice","setState","joined","concat","count","_this$props","query","result","react_default","a","createElement","Card_default","className","key","style","color","padding","onClick","e","handlePerBookCount","CardContent_default","resultsPerBook","perBookInfo","_this$props2","perBookCount","Fragment","keys","map","loadMore","currCount","handleLoadMore","event","preventDefault","query_json","paragraph","item","otherParagraphs","dangerouslySetInnerHTML","__html","para","side","topMargin","innerWidth","Math","round","length","marginTop","_this2","chapters","mobileMaxHeight","position","maxHeight","href","React","Component","MAXCARDS","Search","reset_and_search","resetState","edit_url","handleChangeBooks","books","checked","target","name","freshSearch","arguments","undefined","MiddleEarthJson","replace","trim","results","maxCount","console","log","resultJson","bookNum","book","countPerBook","paraNum","section","RegExp","test","assign","boldText","Number","push","myRef","current","scrollIntoView","behavior","block","strSubject","words","basic_words","split","s","pattern","preg_quote","str","keyword_array","replaced","join","$m","_this$state","book_param","history","pushState","document","edit_title","constants","createRef","listen","location","search","params","URLSearchParams","q","get","getAll","MiddleEarthObj","JSON","parse","stringify","MiddleEarth","classes","_this$state2","lib_default","onChange","onRequestSearch","margin","maxWidth","placeholder","value","FormControl_default","component","FormGroup_default","aria-label","row","FormControlLabel_default","control","Checkbox_default","defaultChecked","label","Typography_default","labelPlacement","ref","components_Content","withStyles","theme","createMuiTheme","palette","primary","main","secondary","typography","useNextVariants","App","core_styles","components_Search","NotFound","render","react_router_dom","basename","react_router","path","querySelector"],"mappings":"0RAAaA,EAAQ,sJC0LNC,cAnLd,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAClBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAOPQ,aAAe,SAACC,GAAO,IACdC,EAAYT,EAAKU,MAAjBD,QAER,GAAuB,UADLE,OAAOC,eACXC,KACb,GAAKJ,EAAQK,SAASN,GAIjB,CACJ,IAAIO,EAAKd,OAAAe,EAAA,EAAAf,CAAOQ,GACVQ,EAAQR,EAAQS,QAAQV,GAC9BO,EAAMI,OAAOF,EAAO,GACpBjB,EAAKoB,SAAS,CAACX,QAASM,QARE,CAC1B,IAAIM,EAASZ,EAAQa,OAAOd,GAC5BR,EAAKoB,SAAS,CAACX,QAASY,MAdRrB,EA2DnBuB,MAAQ,WAAM,IAAAC,EACUxB,EAAKD,MAArBwB,EADMC,EACND,MACP,GAAa,OAFAC,EACCC,OACiB,OAAVF,EAAgB,CACpC,IAAIG,EAAS,SAIb,OAHGH,EAAQ,IACVG,GAAU,KAGVC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAMG,UAAW,+BAAgCC,IAAI,QAClDC,MAAO,CAACC,MAAO,QAASC,QAAS,KACjCC,QAAS,SAAAC,GAAC,OAAIrC,EAAKsC,mBAAmBD,KACxCV,EAAAC,EAAAC,cAACU,EAAAX,EAAD,KACCD,EAAAC,EAAAC,cAAA,WACCI,MAAO,CAACC,MAAO,UAAWX,EAD3B,IACmCG,EADnC,WAEC1B,EAAKwC,qBAzEQxC,EAgFnBwC,eAAiB,WAAM,IAGlBd,EAFGe,EAAezC,EAAKU,MAApB+B,YADeC,EAEQ1C,EAAKD,MAA5B4C,EAFeD,EAEfC,aAmBP,OAjBc,IAJQD,EAEDnB,QAGpBG,EACCC,EAAAC,EAAAC,cAAA,WACCI,MAAO,CAACC,MAAO,UADhB,oCAEGO,IACHf,EACCC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgB,SAAA,KACElB,EAEDzB,OAAO4C,KAAKF,GAAcG,IAAI,SAACd,GAAD,OAC7BL,EAAAC,EAAAC,cAAA,WAASG,IAAKA,GAAMA,EAApB,KAA2BW,EAAaX,SAOtCN,GArGW1B,EAwGnB+C,SAAW,WACV,GAAwB,OAArB/C,EAAKD,MAAMwB,OAAkBvB,EAAKD,MAAMwB,OAASvB,EAAKD,MAAMiD,UAC9D,OACCrB,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAMG,UAAW,2BAA4BC,IAAI,WAC9CI,QAAS,SAAAC,GAAC,OAAIrC,EAAKiD,eAAeZ,IAClCJ,MAAO,CAACC,MAAO,QAASC,QAAS,MACnCR,EAAAC,EAAAC,cAACU,EAAAX,EAAD,KACCD,EAAAC,EAAAC,cAAA,+BA/Gc7B,EAsHnBsC,mBAAqB,WACpBtC,EAAKoB,SAAS,CAACqB,aAAczC,EAAKU,MAAM+B,eAvHtBzC,EA0HnBiD,eAAiB,SAACC,GACjBA,EAAMC,iBACNnD,EAAKD,MAAMqD,YAAW,IA5HJpD,EA+HnBqD,UAAY,SAACC,GACZ,OACC3B,EAAAC,EAAAC,cAAA,OAAKE,UAAW,aACdE,MAAO,CAACC,MAAO,QAASC,QAAS,qBACjCnC,EAAKuD,gBAAgBD,EAAI,cAAmB,OAAQA,GACrD3B,EAAAC,EAAAC,cAAA,OAAKE,UAAW,eAAgByB,wBAAyB,CAACC,OAAQH,EAAI,aACrEtD,EAAKuD,gBAAgBD,EAAI,cAAmB,OAAQA,KArIrCtD,EA0InBuD,gBAAkB,SAACG,EAAMC,EAAML,GAAS,IAIjCM,EAHEnD,EAAYT,EAAKU,MAAjBD,QACR,GAAIiD,EACH,MAAa,SAATC,GAGFC,EADGjD,OAAOkD,YAAc,KACsB,GAAjCC,KAAKC,MAAML,EAAKM,OAAS,IAAc,GAGL,GAAlCF,KAAKC,MAAML,EAAKM,OAAS,KAAe,EAElDvD,EAAQK,SAASwC,EAAI,SAAeA,EAAI,YAC3CM,EAAY,IAGZjC,EAAAC,EAAAC,cAAA,OACCE,UAAS,WAAAT,OAAab,EAAQK,SAASwC,EAAI,SAAeA,EAAI,UAAgB,eAAiB,QAC/FrB,MAAO,CAACgC,UAAWL,IAElBF,IAMF/B,EAAAC,EAAAC,cAAA,OAAKE,UAAW,gBAAiB2B,IAjKpC1D,EAAKU,MAAQ,CACZ+B,aAAa,EACbhC,QAAS,IAJQT,wEAyBV,IAAAkE,EAAA/D,KACAgE,EAAahE,KAAKJ,MAAlBoE,SACA1D,EAAYN,KAAKO,MAAjBD,QACJ2D,EAAkB,EAItB,OAHIzD,OAAOkD,YAAc,MACxBO,EAAkB,KAGlBzC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAMpB,GAAG,WACRmB,EAAAC,EAAAC,cAAA,OAAKrB,GAAG,SACNL,KAAKoB,QACL4C,EAASrB,IAAI,SAAAQ,GAAI,OACjB3B,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACCG,UAAW,iBACXC,IAAKsB,EAAI,UACTlB,QAAS,kBAAM8B,EAAK3D,aAAa+C,EAAI,SAAeA,EAAI,YACxD3B,EAAAC,EAAAC,cAACU,EAAAX,EAAD,CAAaK,MAAO,CAACoC,SAAU,WAAYlC,QAAS,EAAGmC,UAAS,GAAAhD,OAAKb,EAAQK,SAASwC,EAAI,SAAeA,EAAI,UAAiB,GAAKc,EAAkB,IAAM,QAC1JzC,EAAAC,EAAAC,cAAA,OAAKE,UAAS,aAAAT,OAAeb,EAAQK,SAASwC,EAAI,SAAeA,EAAI,UAAgB,GAAK,oBACxFrB,MAAO,CAACC,MAAO,QAASC,QAAS,mBACjCmB,EAAI,UAFN,MAEwBA,EAAI,cAE3BY,EAAKb,UAAUC,GAChB3B,EAAAC,EAAAC,cAAA,OAAKE,UAAS,GAAAT,OAAKb,EAAQK,SAASwC,EAAI,SAAeA,EAAI,UAAgB,sBAAwB,qBAIrGnD,KAAK4C,YAEPpB,EAAAC,EAAAC,cAAA,OAAKrB,GAAI,SACPyB,MAAO,CAACC,MAAO,UAAUP,EAAAC,EAAAC,cAAA,KAAG0C,KAAM,gDAAT,kBAD3B,mCACgI5C,EAAAC,EAAAC,cAAA,KAAG0C,KAAM,mCAAT,2BAxD9GC,IAAMC,WCSxBC,EAAW,GAeTC,cAEL,SAAAA,EAAY5E,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwE,IAClB3E,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0E,GAAArE,KAAAH,KAAMJ,KAqCP6E,iBAAmB,WAElB5E,EAAK6E,aACD7E,EAAKU,MAAMe,QACdzB,EAAKoD,YAAW,GAChBpD,EAAK8E,aA3CY9E,EA+CnB6E,WAAa,WACZ7E,EAAKoB,SAAS,CACb+C,SAAU,GACV5C,MAAO,EACPyB,UAAW,EACXL,aAAc,MApDG3C,EAwDnB+E,kBAAoB,SAAC7B,GAAU,IACtB8B,EAAUhF,EAAKU,MAAfsE,MACFC,EAAU/B,EAAMgC,OAAOD,QAC7B,GAAIA,IAAYD,EAAMlE,SAASoC,EAAMgC,OAAOC,MAAO,CAElD,IAAI9D,EAAS2D,EAAM1D,OAAO4B,EAAMgC,OAAOC,MACvCnF,EAAKoB,SAAS,CAAC4D,MAAO3D,SAElB,IAAK4D,GAAWD,EAAMlE,SAASoC,EAAMgC,OAAOC,MAAM,CAEtD,IAAIpE,EAAKd,OAAAe,EAAA,EAAAf,CAAO+E,GACV/D,EAAQ+D,EAAM9D,QAAQgC,EAAMgC,OAAOC,MACzCpE,EAAMI,OAAOF,EAAO,GACpBjB,EAAKoB,SAAS,CAAC4D,MAAOjE,MArELf,EA6KnBoD,WAAa,WAA4C,IAA3CgC,IAA2CC,UAAArB,OAAA,QAAAsB,IAAAD,UAAA,KAAAA,UAAA,GAAzBE,EAAyBF,UAAArB,OAAA,QAAAsB,IAAAD,UAAA,GAAAA,UAAA,GAAT,KAIvCL,EAAUhF,EAAKU,MAAfsE,MACgB,OAApBO,IACHA,EAAkBvF,EAAKU,MAAM6E,iBAE9B,IAAI9D,EAAQzB,EAAKU,MAAMe,MAAM+D,QAAQ,+BAAgC,IAErE,GAAa,OADb/D,EAAQA,EAAMgE,QACd,CAGA,IAAIlE,EAAQ,EACRmE,EAAU,GACV1C,EAAY,EAEXoC,IAEJM,EAAU1F,EAAKU,MAAMyD,SACrBnB,EAAYhD,EAAKU,MAAMsC,WAExB,IAAI2C,EAAW3C,EAAY0B,EACvB/B,EAAe,GAEnBiD,QAAQC,IAAI,oBAAqBN,GAIjC,IAAIO,EAAa,GACbC,EAAU,EACd,IAAI,IAAIC,KAAQT,EAAiB,CAChC,IAAIU,EAAe,EACnB,GAAqB,IAAjBjB,EAAMhB,QAAgBgB,EAAMlE,SAASkF,GAAO,CAC/CF,EAAWE,GAAQ,GACnB,IAAIE,EAAU,EACd,IAAK,IAAIC,KAAWZ,EAAgBS,GAAO,CAC1C,IAAItC,EAAO6B,EAAgBS,GAAMG,GAAtB,UAA4CX,QAAQ,gCAAiC,IAEhG,GAAI,IAAIY,OAAO3E,EAAO,OAAO4E,KAAK3C,KAC5B,IAAI0C,OAAO3E,GAAO4E,KAAK,OAAQ,CAOpC,GALAP,EAAWE,GAAMG,GAAWlG,OAAOqG,OAAO,GAAIf,EAAgBS,GAAMG,IACpEL,EAAWE,GAAMG,GAAjB,SAAwCD,EACxCJ,EAAWE,GAAMG,GAAjB,SAAwCJ,EACxCE,IACA1E,IACIyB,IAAc2C,GAAYpE,EAAQyB,EACrC,SAEDA,IAGA8C,EAAWE,GAAMG,GAAjB,UACCnG,EAAKuG,SAAShB,EAAgBS,GAAMG,GAAtB,UAA6C1E,GAGxD+E,OAAOL,GAAW,GACpBZ,EAAgBS,GAAMG,GAAtB,cACIZ,EAAgBS,GAAMQ,OAAOL,GAAW,GAAxC,cAELL,EAAWE,GAAMG,GAAjB,cACEZ,EAAgBS,GAAMQ,OAAOL,GAAW,GAAxC,UACaX,QAAQ,eAAgB,KAIpCgB,OAAOL,GAAW,EAAIZ,EAAgBS,GAAMhC,QAC9CuB,EAAgBS,GAAMG,GAAtB,cACIZ,EAAgBS,GAAMQ,OAAOL,GAAW,GAAxC,cAELL,EAAWE,GAAMG,GAAjB,cACEZ,EAAgBS,GAAMQ,OAAOL,GAAW,GAAxC,WAGHT,EAAQe,KAAKX,EAAWE,GAAMG,IAE/BD,IAEDvD,EAAa4C,EAAgBS,GAAM,GAAtB,WAAyCC,EAEvDF,IAGGX,GACHpF,EAAK0G,MAAMC,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,UAGhE9G,EAAKoB,SAAS,CACbG,MAAOA,EACPyB,UAAWA,EACXmB,SAAUuB,EACV/C,aAAcA,MAzQG3C,EA6QnBuG,SAAW,SAACQ,EAAYtF,GAIvB,IADA,IAAIuF,GADJvF,EAAQzB,EAAKiH,YAAYxF,IACPyF,MAAM,KACfC,EAAI,EAAGA,EAAIH,EAAMhD,OAAQmD,GAAK,EAAE,CACxC,IAAMC,EAAU,IAAIhB,OAClB,MAAQpG,EAAKqH,WAAWL,EAAMG,IAAM,MAAM,MAC5CJ,EAAaA,EAAWvB,QAAQ4B,EAAS,YAAY,MAEtD,OAAOL,GAtRW/G,EAyRnBqH,WAAa,SAACC,GAGb,OAAQA,EAAM,IAAI9B,QAChB,IAAIY,OAAO,qCAAsC,KACjD,SA9RgBpG,EAiSnBiH,YAAc,SAACxF,GAEd,IAAM8F,EAAgB,CAAC,IAAI,QAAQ,KAAK,MAAM,KAAK,KAAK,KAAM,KAC5D,MAAM,MAAM,OAAO,MAAM,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KACtD,KAAM,OAAO,MAAM,OAAO,KAAK,MAAM,OAAO,OAAO,QACnD,MAAM,OAAO,QAEXC,GADJ/F,EAAQA,EAAM+D,QAAQ,OAAS+B,EAAcE,KAAK,KAAO,QAAS,KAC7CjC,QAAQ,WAAY,SAAUkC,GAElD,OAAiB,IADLH,EAAcrG,QAAQwG,GACb,GAAKA,IAM3B,OADAF,GAFAA,EAAWA,EAAShC,QAAQ,OAAO,MAEfC,QA/SFzF,EAmTnB8E,SAAW,WAAM,IAAA6C,EAES3H,EAAKU,MAAtBsE,EAFQ2C,EAER3C,MAAOvD,EAFCkG,EAEDlG,MACXmG,EAAa,GACb5C,GAASA,EAAMhB,OAAS,IAC3B4D,EAAa5C,EAAMlC,IAAI,SAAAlB,GAAC,MAAI,YAAcA,IAAG6F,KAAK,KAEnD9G,OAAOkH,QAAQC,UAAU,GAAIC,SAASlI,MAAO,2BAA6B4B,EAAQmG,GAClF5H,EAAKgI,cA3TahI,EA8TnBgI,WAAa,WAEZD,SAASlI,MAAQoI,EAAkB,MAAQjI,EAAKU,MAAMe,OA9TtDzB,EAAKU,MAAQ,CACZ6E,gBAAiB,GACjB9D,MAAOzB,EAAKD,MAAM0B,MAClB0C,SAAU,GACV5C,MAAO,EACPoB,aAAc,GACdK,UAAW,EACXgC,MAAOhF,EAAKD,MAAMiF,OAEnBhF,EAAK0G,MAAQwB,sBAEblI,EAAKD,MAAM8H,QAAQM,OAAO,SAACC,GAC1B,IAAMC,EAASD,EAASC,OAClBC,EAAS,IAAIC,gBAAgBF,GAC7BG,EAAIF,EAAOG,IAAI,KACfzD,EAAQsD,EAAOI,OAAO,WAC5B1I,EAAKoB,SAAS,CACbK,MAAO+G,EACPxD,MAAOA,IAERhF,EAAK4E,qBAtBY5E,mFA2BlB,IAAM2I,EAAiBC,KAAKC,MAAMD,KAAKE,UAAUC,IACjD5I,KAAKiB,SAAS,CACbmE,gBAAiBoD,IAEdxI,KAAKJ,MAAM0B,YAA8B6D,IAArBnF,KAAKJ,MAAM0B,QAClCtB,KAAKiB,SAAS,CAACK,MAAOtB,KAAKJ,MAAM0B,QACjCtB,KAAKiD,YAAW,EAAMuF,GACtBxI,KAAK6H,+CAuCE,IAAA9D,EAAA/D,KACA6I,EAAY7I,KAAKJ,MAAjBiJ,QADAC,EAE2B9I,KAAKO,MAAhCsE,EAFAiE,EAEAjE,MAAOb,EAFP8E,EAEO9E,SAAU1C,EAFjBwH,EAEiBxH,MACzB,OACCE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgB,SAAA,KACAjB,EAAAC,EAAAC,cAAA,OAAKrB,GAAI,UACRmB,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAMpB,GAAG,4BACRmB,EAAAC,EAAAC,cAAA,WAASrB,GAAG,WACXmB,EAAAC,EAAAC,cAAA,WAASE,UAAU,SAASkG,GAC5BtG,EAAAC,EAAAC,cAACqH,EAAAtH,EAAD,CACCuH,SAAU,SAAC9G,GAAD,OAAO6B,EAAK9C,SAAS,CAACK,MAAOY,KACvC+G,gBAAiB,kBAAMlF,EAAKU,oBAC5B3C,MAAO,CACNoH,OAAQ,SACRC,SAAU,KAEXC,YAAa,qBACbC,MAAO/H,GAAS,KAEjBE,EAAAC,EAAAC,cAAA,eACCF,EAAAC,EAAAC,cAAC4H,EAAA7H,EAAD,CAAa8H,UAAU,YACtB/H,EAAAC,EAAAC,cAAC8H,EAAA/H,EAAD,CAAWgI,aAAW,WAAWzE,KAAK,WAAW0E,KAAG,GACnDlI,EAAAC,EAAAC,cAACiI,EAAAlI,EAAD,CACC4H,MAAM,QACNO,QAASpI,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAUK,MAAO,CAACC,MAAO,SAAU+H,eAAgBjF,EAAMlE,SAAS,WAC3EoJ,MACCvI,EAAAC,EAAAC,cAACsI,EAAAvI,EAAD,CACEK,MAAO,CAACC,MAAO,UADjB,8BAIDkI,eAAe,MACfjF,KAAK,QACL8E,eAAgBjF,EAAMlE,SAAS,SAC/BqI,SAAUhJ,KAAK4E,kBACfhD,UAAWiH,EAAQkB,QAEpBvI,EAAAC,EAAAC,cAACiI,EAAAlI,EAAD,CACC4H,MAAM,MACNO,QAASpI,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAUK,MAAO,CAACC,MAAO,SAAU+H,eAAgBjF,EAAMlE,SAAS,SAC3EoJ,MACCvI,EAAAC,EAAAC,cAACsI,EAAAvI,EAAD,CACEK,MAAO,CAACC,MAAO,UADjB,mBAIDkI,eAAe,MACfjF,KAAK,MACL8E,eAAgBjF,EAAMlE,SAAS,OAC/BqI,SAAUhJ,KAAK4E,kBACfhD,UAAWiH,EAAQkB,QAEpBvI,EAAAC,EAAAC,cAACiI,EAAAlI,EAAD,CACC4H,MAAM,OACNO,QAASpI,EAAAC,EAAAC,cAACmI,EAAApI,EAAD,CAAUK,MAAO,CAACC,MAAO,SAAU+H,eAAgBjF,EAAMlE,SAAS,UAC3EoJ,MACCvI,EAAAC,EAAAC,cAACsI,EAAAvI,EAAD,CACEK,MAAO,CAACC,MAAO,UADjB,0BAIDkI,eAAe,MACfjF,KAAK,OACL8E,eAAgBjF,EAAMlE,SAAS,QAC/BqI,SAAUhJ,KAAK4E,kBACfhD,UAAWiH,EAAQkB,cAwB1BvI,EAAAC,EAAAC,cAAA,OAAKwI,IAAKlK,KAAKuG,OACd/E,EAAAC,EAAAC,cAACyI,EAAD,CACClH,WAAYjD,KAAKiD,WACjBe,SAAUA,EACVnB,UAAW7C,KAAKO,MAAMsC,UACtBzB,MAAOpB,KAAKO,MAAMa,MAClBoB,aAAcxC,KAAKO,MAAMiC,aACzBlB,MAAOtB,KAAKO,MAAMe,iBAxKF+C,IAAMC,WA0UZ8F,cAvVA,iBAAO,CACrBL,MAAO,CACNhI,MAAO,WAqVMqI,CAAmB5F,WCnVnB6F,EAdDC,yBAAe,CAC5BC,QAAS,CACRC,QAAS,CACRC,KAAM,WAEPC,UAAW,CACVD,KAAM,SAGRE,WAAY,CACXC,iBAAiB,KCiBJC,cA1Bd,SAAAA,EAAYjL,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6K,GAGlB,IAAM3C,GAFNrI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+K,GAAA1K,KAAAH,KAAMJ,KAEcA,MAAMqI,SAASC,OAC7BC,EAAS,IAAIC,gBAAgBF,GAC7BrD,EAAQsD,EAAOI,OAAO,WACtBjH,EAAQ6G,EAAOG,IAAI,KANP,OAQlBzI,EAAKU,MAAQ,CACZe,MAAOA,EACPuD,MAAOA,GAVUhF,wEAelB,OACC2B,EAAAC,EAAAC,cAACoJ,EAAA,iBAAD,CAAkBT,MAAOA,GACxB7I,EAAAC,EAAAC,cAAA,OAAKrB,GAAI,OACRmB,EAAAC,EAAAC,cAACqJ,EAAD,CAAQzJ,MAAOtB,KAAKO,MAAMe,MAAOuD,MAAO7E,KAAKO,MAAMsE,MACjD6C,QAAS1H,KAAKJ,MAAM8H,mBArBTrD,IAAMC,WCKT0G,EAPE,WAChB,OACCxJ,EAAAC,EAAAC,cAAA,wBCcFuJ,iBAAOzJ,EAAAC,EAAAC,cAXM,WACT,OACIF,EAAAC,EAAAC,cAACwJ,EAAA,EAAD,CAAQC,SAAS,KACb3J,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,KACI5J,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,CAAOC,KAAK,IAAI9B,UAAWsB,IAC3BrJ,EAAAC,EAAAC,cAAC0J,EAAA,EAAD,CAAO7B,UAAWyB,OAM3B,MAASpD,SAAS0D,cAAc","file":"static/js/main.adef410b.chunk.js","sourcesContent":["export const title = \"Search Middle Earth\";","import React from 'react';\r\nimport Card from \"@material-ui/core/Card\";\r\nimport {PropTypes} from 'prop-types';\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nclass Content extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tperBookInfo: false,\r\n\t\t\tclicked: []\r\n\t\t};\r\n\t}\r\n\r\n\tclickContent = (id) => {\r\n\t\tconst { clicked } = this.state;\r\n\t\tconst selection = window.getSelection();\r\n\t\tif (selection.type !== \"Range\") {\r\n\t\t\tif (!clicked.includes(id)) {\r\n\t\t\t\tlet joined = clicked.concat(id);\r\n\t\t\t\tthis.setState({clicked: joined})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet array = [...clicked];\r\n\t\t\t\tconst index = clicked.indexOf(id);\r\n\t\t\t\tarray.splice(index, 1);\r\n\t\t\t\tthis.setState({clicked: array})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { chapters } = this.props;\r\n\t\tconst { clicked } = this.state;\r\n\t\tlet mobileMaxHeight = 0;\r\n\t\tif( window.innerWidth <= 800 ) {\r\n\t\t\tmobileMaxHeight = 100;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Card id=\"content\">\r\n\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t{this.count()}\r\n\t\t\t\t\t{chapters.map(item => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={'card clickable'}\r\n\t\t\t\t\t\t\tkey={item['paragraph']}\r\n\t\t\t\t\t\t\tonClick={() => this.clickContent(item['book_num'] + item['para_num'])}>\r\n\t\t\t\t\t\t\t<CardContent style={{position: 'relative', padding: 0, maxHeight: `${clicked.includes(item['book_num'] + item['para_num'])  ? '' : mobileMaxHeight + 400 + 'px'}`}}>\r\n\t\t\t\t\t\t\t\t<div className={`book_chap ${clicked.includes(item['book_num'] + item['para_num']) ? '' : 'book_chap_shadow'}`}\r\n\t\t\t\t\t\t\t\t\t style={{color: 'black', padding: '15px 15px 15px'}}>\r\n\t\t\t\t\t\t\t\t\t{item['book_name']} - {item['chapter_name']}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{this.paragraph(item)}\r\n\t\t\t\t\t\t\t\t<div className={`${clicked.includes(item['book_num'] + item['para_num']) ? 'last_shadow_clicked' : 'last_shadow'}`}/>\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{this.loadMore()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id={\"footer\"}\r\n\t\t\t\t\t style={{color: 'black'}}><a href={\"https://mertun.artstation.com/projects/Gk16N\"}>Shall Not Pass</a> - ömer tunç | Created by <a href={\"https://twitter.com/RMcElhinney\"}>Rob McElhinney</a></div>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n\r\n\tcount = () => {\r\n\t\tconst {count, query} = this.props;\r\n\t\tif(query !== null && count !== null) {\r\n\t\t\tlet result = \"result\";\r\n\t\t\tif(count > 1) {\r\n\t\t\t\tresult += \"s\";\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Card className={\"card results_found clickable\"} key=\"count\"\r\n\t\t\t\t\t  style={{color: 'black', padding: '0'}}\r\n\t\t\t\t\t  onClick={e => this.handlePerBookCount(e)}>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<section\r\n\t\t\t\t\t\t\tstyle={{color: 'black'}}>{count} {result} found.</section>\r\n\t\t\t\t\t\t{this.resultsPerBook()}\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tresultsPerBook = () => {\r\n\t\tconst {perBookInfo} = this.state;\r\n\t\tconst {perBookCount, count} = this.props;\r\n\t\tlet result;\r\n\t\tif (count !== 0) {\r\n\t\t\tresult = (\r\n\t\t\t\t<section\r\n\t\t\t\t\tstyle={{color: 'black'}}>Click to search results by book.</section>)\r\n\t\t\tif (perBookInfo) {\r\n\t\t\t\tresult = (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{result}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tObject.keys(perBookCount).map((key) => (\r\n\t\t\t\t\t\t\t<section key={key}>{key}: {perBookCount[key]}</section>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tloadMore = () => {\r\n\t\tif(this.props.count !== null && this.props.count >= this.props.currCount) {\r\n\t\t\treturn (\r\n\t\t\t\t<Card className={\"card load_more clickable\"} key=\"loadMore\"\r\n\t\t\t\t\t  onClick={e => this.handleLoadMore(e)}\r\n\t\t\t\t\t  style={{color: 'black', padding: '0'}}>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<section>Load More</section>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\thandlePerBookCount = () => {\r\n\t\tthis.setState({perBookInfo: !this.state.perBookInfo});\r\n\t}\r\n\r\n\thandleLoadMore = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.query_json(false);\r\n\t}\r\n\r\n\tparagraph = (item) => {\r\n\t\treturn (\r\n\t\t\t<div className={\"paragraphs\"}\r\n\t\t\t\t style={{color: 'black', padding: '0 15px 15px 15px'}}>\r\n\t\t\t\t{this.otherParagraphs(item['paragraphPrev'], \"prev\", item)}\r\n\t\t\t\t<div className={\"results curr\"} dangerouslySetInnerHTML={{__html: item['paragraph']}}/>\r\n\t\t\t\t{this.otherParagraphs(item['paragraphNext'], \"next\", item)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\totherParagraphs = (para, side, item) => {\r\n\t\tconst { clicked } = this.state;\r\n\t\tif (para) {\r\n\t\t\tif (side === \"prev\") {\r\n\t\t\t\tlet topMargin;\r\n\t\t\t\tif( window.innerWidth <= 800 ) {\r\n\t\t\t\t\ttopMargin = (Math.round(para.length / 30) * - 12) - 5;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttopMargin = (Math.round(para.length / 120) * - 12) - 5;\r\n\t\t\t\t}\r\n\t\t\t\tif (clicked.includes(item['book_num'] + item['para_num'])) {\r\n\t\t\t\t\ttopMargin = 15;\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`results ${clicked.includes(item['book_num'] + item['para_num']) ? 'prev_clicked' : 'prev'}`}\r\n\t\t\t\t\t\tstyle={{marginTop: topMargin}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{para}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className={\"results next\"}>{para}</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nContent.propTypes = {\r\n\tquery_json: PropTypes.func.isRequired,\r\n\tchapters: PropTypes.any.isRequired,\r\n\tcurrCount: PropTypes.number.isRequired,\r\n\tcount: PropTypes.number.isRequired,\r\n\tquery: PropTypes.string.isRequired,\r\n\tperBookCount: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default Content;\r\n","import React, {createRef} from 'react';\r\nimport Card from \"@material-ui/core/Card\";\r\nimport MiddleEarth from \"../MiddleEarth.json\"\r\nimport * as constants from \"../constants\";\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport SearchBar from 'material-ui-search-bar';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/styles';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Content from \"./Content\";\r\n\r\nlet MAXCARDS = 10;\r\n\r\nconst styles = () => ({\r\n\tlabel: {\r\n\t\tcolor: 'white',\r\n\t},\r\n});\r\n\r\n// Gandalf the Grey\r\n// fly you fools\r\n// even as it fell it swung it's\r\n//saruman the white\r\n// This tale grew in the telling\r\n//tom bombadil\r\n\r\nclass Search extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tMiddleEarthJson: {},\r\n\t\t\tquery: this.props.query,\r\n\t\t\tchapters: [],\r\n\t\t\tcount: 0,\r\n\t\t\tperBookCount: {},\r\n\t\t\tcurrCount: 1,\r\n\t\t\tbooks: this.props.books,\r\n\t\t};\r\n\t\tthis.myRef = createRef();\r\n\r\n\t\tthis.props.history.listen((location) => {\r\n\t\t\tconst search = location.search;\r\n\t\t\tconst params = new URLSearchParams(search);\r\n\t\t\tconst q = params.get('q');\r\n\t\t\tconst books = params.getAll('books[]');\r\n\t\t\tthis.setState({\r\n\t\t\t\tquery: q,\r\n\t\t\t\tbooks: books\r\n\t\t\t});\r\n\t\t\tthis.reset_and_search();\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst MiddleEarthObj = JSON.parse(JSON.stringify(MiddleEarth));\r\n\t\tthis.setState({\r\n\t\t\tMiddleEarthJson: MiddleEarthObj\r\n\t\t})\r\n\t\tif (this.props.query && this.props.query !== undefined) {\r\n\t\t\tthis.setState({query: this.props.query});\r\n\t\t\tthis.query_json(true, MiddleEarthObj);\r\n\t\t\tthis.edit_title();\r\n\t\t}\r\n\t}\r\n\r\n\treset_and_search = () => {\r\n\t\t//TODO ignore reset state from history.listen\r\n\t\tthis.resetState();\r\n\t\tif (this.state.query) {\r\n\t\t\tthis.query_json(true);\r\n\t\t\tthis.edit_url();\r\n\t\t}\r\n\t}\r\n\r\n\tresetState = () => {\r\n\t\tthis.setState({\r\n\t\t\tchapters: [],\r\n\t\t\tcount: 0,\r\n\t\t\tcurrCount: 1,\r\n\t\t\tperBookCount: {}\r\n\t\t});\r\n\t}\r\n\r\n\thandleChangeBooks = (event) => {\r\n\t\tconst { books } = this.state;\r\n\t\tconst checked = event.target.checked;\r\n\t\tif (checked && !books.includes(event.target.name)) {\r\n\t\t\t// add book to state\r\n\t\t\tlet joined = books.concat(event.target.name);\r\n\t\t\tthis.setState({books: joined})\r\n\t\t}\r\n\t\telse if (!checked && books.includes(event.target.name)){\r\n\t\t\t// remove book from state\r\n\t\t\tlet array = [...books];\r\n\t\t\tconst index = books.indexOf(event.target.name);\r\n\t\t\tarray.splice(index, 1);\r\n\t\t\tthis.setState({books: array})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\tconst { books, chapters, query } = this.state;\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<div id={\"search\"}>\r\n\t\t\t\t<Card id=\"search_container_default\">\r\n\t\t\t\t\t<section id=\"section\">\r\n\t\t\t\t\t\t<section className=\"title\">{constants.title}</section>\r\n\t\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\t\tonChange={(e) => this.setState({query: e})}\r\n\t\t\t\t\t\t\tonRequestSearch={() => this.reset_and_search()}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmargin: '0 auto',\r\n\t\t\t\t\t\t\t\tmaxWidth: 800\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tplaceholder={\"type query here...\"}\r\n\t\t\t\t\t\t\tvalue={query || \"\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t<FormControl component=\"fieldset\">\r\n\t\t\t\t\t\t\t\t<FormGroup aria-label=\"position\" name=\"position\" row>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"TFOTR\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"TFOTR\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Fellowship of the Ring\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"TFOTR\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"TFOTR\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"TTT\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"TTT\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Twin Towers\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"TTT\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"TTT\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"ROTK\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} defaultChecked={books.includes(\"ROTK\")}/>}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Return of the King\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"ROTK\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"ROTK\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t{/* <FormGroup aria-label=\"position\" name=\"position\" row>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"TABA\"\r\n\t\t\t\t\t\t\t\t\t\tcontrol={<Checkbox style={{color: 'white'}} />}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{color: 'white'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tThe Hobbit\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>}\r\n\t\t\t\t\t\t\t\t\t\tlabelPlacement=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"TABA\"\r\n\t\t\t\t\t\t\t\t\t\tdefaultChecked={books.includes(\"TABA\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeBooks}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.label}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormGroup> */}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t\t<div ref={this.myRef}>\r\n\t\t\t\t<Content\r\n\t\t\t\t\tquery_json={this.query_json}\r\n\t\t\t\t\tchapters={chapters}\r\n\t\t\t\t\tcurrCount={this.state.currCount}\r\n\t\t\t\t\tcount={this.state.count}\r\n\t\t\t\t\tperBookCount={this.state.perBookCount}\r\n\t\t\t\t\tquery={this.state.query}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tquery_json = (freshSearch=true, MiddleEarthJson=null) => {\r\n\t\t// uses regex to find query in books.\r\n\t\t// freshSearch means to search from scratch or to continue on \r\n\t\t// from previous search by remembering where it stopped.\r\n\t\tconst { books } = this.state;\r\n\t\tif (MiddleEarthJson === null){\r\n\t\t\tMiddleEarthJson = this.state.MiddleEarthJson;\r\n\t\t}\r\n\t\tlet query = this.state.query.replace(/[.,/#!$%^&*;:{}=\\-_~()/\"/']/g, \"\");\r\n\t\tquery = query.trim();\r\n\t\tif (query == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet count = 0;\r\n\t\tlet results = [];\r\n\t\tlet currCount = 1;\r\n\r\n\t\tif (!freshSearch) {\r\n\t\t\t// Get where last search stopped.\r\n\t\t\tresults = this.state.chapters;\r\n\t\t\tcurrCount = this.state.currCount;\r\n\t\t}\r\n\t\tlet maxCount = currCount + MAXCARDS;\r\n\t\tlet perBookCount = {};\r\n\r\n\t\tconsole.log(\"MiddleEarthJson: \", MiddleEarthJson)\r\n\r\n\t\t// Stores changes from MiddleEarthJson so it doesn't change on \r\n\t\t// each search.\r\n\t\tlet resultJson = {}\r\n\t\tlet bookNum = 1\r\n\t\tfor(let book in MiddleEarthJson) {\r\n\t\t\tlet countPerBook = 0;\r\n\t\t\tif (books.length === 0 || books.includes(book)) {\r\n\t\t\t\tresultJson[book] = {}\r\n\t\t\t\tlet paraNum = 1\r\n\t\t\t\tfor (let section in MiddleEarthJson[book]) {\r\n\t\t\t\t\tlet para = MiddleEarthJson[book][section]['paragraph'].replace(/[.,/#!$%^&*;:{}=\\-_`~()/\"/']/g, \"\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (new RegExp(query, 'giu').test(para)\r\n\t\t\t\t\t\t\t&& !new RegExp(query).test(\"<b>\")) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tresultJson[book][section] = Object.assign({}, MiddleEarthJson[book][section])\r\n\t\t\t\t\t\tresultJson[book][section][\"para_num\"] = paraNum\r\n\t\t\t\t\t\tresultJson[book][section][\"book_num\"] = bookNum\r\n\t\t\t\t\t\tcountPerBook++;\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tif (currCount === maxCount || count < currCount) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcurrCount++;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Get current paragraph\r\n\t\t\t\t\t\tresultJson[book][section][\"paragraph\"] =\r\n\t\t\t\t\t\t\tthis.boldText(MiddleEarthJson[book][section][\"paragraph\"], query);\r\n\r\n\t\t\t\t\t\t// Get previous paragraph if it exists\r\n\t\t\t\t\t\tif (Number(section) > 0 &&\r\n\t\t\t\t\t\t\t\tMiddleEarthJson[book][section][\"chapter_num\"]\r\n\t\t\t\t\t\t\t\t=== MiddleEarthJson[book][Number(section) - 1][\r\n\t\t\t\t\t\t\t\t\t\"chapter_num\"]) {\r\n\t\t\t\t\t\t\tresultJson[book][section][\"paragraphPrev\"] =\r\n\t\t\t\t\t\t\t\t\tMiddleEarthJson[book][Number(section) - 1][\r\n\t\t\t\t\t\t\t\t\t\"paragraph\"].replace(/(<b>|<\\/b>)/g, \"\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get next paragraph if it exists\r\n\t\t\t\t\t\tif (Number(section) + 1 < MiddleEarthJson[book].length &&\r\n\t\t\t\t\t\t\t\tMiddleEarthJson[book][section][\"chapter_num\"]\r\n\t\t\t\t\t\t\t\t=== MiddleEarthJson[book][Number(section) + 1][\r\n\t\t\t\t\t\t\t\t\"chapter_num\"]) {\r\n\t\t\t\t\t\t\tresultJson[book][section][\"paragraphNext\"] =\r\n\t\t\t\t\t\t\t\t\tMiddleEarthJson[book][Number(section) + 1][\r\n\t\t\t\t\t\t\t\t\t\"paragraph\"]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresults.push(resultJson[book][section]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparaNum++\r\n\t\t\t\t}\r\n\t\t\t\tperBookCount[MiddleEarthJson[book][0][\"book_name\"]] = countPerBook;\r\n\t\t\t}\r\n\t\t\tbookNum++\r\n\t\t}\r\n\r\n\t\tif (freshSearch) {\r\n\t\t\tthis.myRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tcount: count,\r\n\t\t\tcurrCount: currCount,\r\n\t\t\tchapters: results,\r\n\t\t\tperBookCount: perBookCount,\r\n\t\t});\r\n\t}\r\n\r\n\tboldText = (strSubject, query) => {\r\n\t\t// Bold query inside strSubject and return result \r\n\t\tquery = this.basic_words(query);\r\n\t\tlet words = query.split(\" \");\r\n\t\tfor (let s = 0; s < words.length; s += 1){\r\n\t\t\tconst pattern = new RegExp(\r\n\t\t\t\t\t'\\\\b' + this.preg_quote(words[s]) + '\\\\b','gi');\r\n\t\t\tstrSubject = strSubject.replace(pattern, \"<b>$&</b>\",\"\\n\");\r\n\t\t}\r\n\t\treturn strSubject;\r\n\t}\r\n\r\n\tpreg_quote = (str) => {\r\n\t\t// takes str and puts a backslash in front of every character \r\n\t\t// that is part of the regular expression syntax\r\n\t\treturn (str + '').replace(\r\n\t\t\t\tnew RegExp(\"[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\/-]\", 'g'),\r\n\t\t\t\t'\\\\$&');\r\n\t}\r\n\r\n\tbasic_words = (query) => {\r\n\t\t// Takes common words out of query\r\n\t\tconst keyword_array = ['a','about','an','are','as','at','be', 'by',\r\n\t\t\t\t'com','for','from','how','i','in','is','it','la','of','on',\r\n\t\t\t\t'or', 'that','the','this','to','was','what','when','where', \r\n\t\t\t\t'who','will','with']\r\n\t\tquery = query.replace('/\\b(' + keyword_array.join('|') + ')\\b/i', '');\r\n\t\tlet replaced = query.replace(/\\b\\w+\\b/g, function ($m) {\r\n\t\t\tconst key = keyword_array.indexOf($m);\r\n\t\t\treturn (key !== -1)? '' : $m;\r\n\t\t});\r\n\t\t// replaces any any whitespace character with single space\r\n\t\treplaced = replaced.replace(/\\s+/g,' ')\r\n\t\t// strip trailing whitespaces\r\n\t\treplaced = replaced.trim()\r\n\t\treturn replaced\r\n\t}\r\n\r\n\tedit_url = () => {\r\n\t\t// Edits url for SPA.\r\n\t\tconst { books, query } = this.state;\r\n\t\tlet book_param = \"\";\r\n\t\tif (books && books.length > 0) {\r\n\t\t\tbook_param = books.map(a => \"&books[]=\" + a).join('');\r\n\t\t}\r\n\t\twindow.history.pushState({}, document.title, \"/MiddleEarthSearch/#/?q=\" + query + book_param);\r\n\t\tthis.edit_title();\r\n\t}\r\n\r\n\tedit_title = () => {\r\n\t\t// Updates page title with current query.\r\n\t\tdocument.title = constants.title + ' - ' + this.state.query;\r\n\t}\r\n}\r\n\r\nSearch.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Search);\r\n","import {createMuiTheme} from '@material-ui/core/styles';\r\n\r\n// use default theme\r\n// const theme = createMuiTheme();\r\n\r\n// Or Create your Own theme:\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#b1a11d'\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#fff'\r\n\t\t},\r\n\t},\r\n\ttypography: {\r\n\t\tuseNextVariants: true,\r\n\t},\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport Search from './Search';\r\nimport theme from '../Theme';\r\nimport {MuiThemeProvider} from '@material-ui/core/styles';\r\n\r\nclass App extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst search = this.props.location.search;\r\n\t\tconst params = new URLSearchParams(search);\r\n\t\tconst books = params.getAll('books[]');\r\n\t\tconst query = params.get('q');\r\n\r\n\t\tthis.state = {\r\n\t\t\tquery: query,\r\n\t\t\tbooks: books,\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t\t<div id={\"app\"}>\r\n\t\t\t\t\t<Search query={this.state.query} books={this.state.books}\r\n\t\t\t\t\t\t\thistory={this.props.history}/>\r\n\t\t\t\t</div>\r\n\t\t\t</MuiThemeProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<h2>Not Found</h2>\r\n\t)\r\n}\r\n\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport {render} from 'react-dom';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nimport './css/style.css';\r\nimport App from './components/App';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst Root = () => {\r\n    return(\r\n        <Router basename='/'>\r\n            <Switch>\r\n                <Route path='/' component={App} />\r\n                <Route component={NotFound} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n};\r\n\r\nrender(<Root/>, document.querySelector('#root'));\r\n"],"sourceRoot":""}